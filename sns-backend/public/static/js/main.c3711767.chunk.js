(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",function(){return C}),a.d(n,"default",function(){return S});var r={};a.r(r),a.d(r,"submitPost",function(){return I}),a.d(r,"change",function(){return A}),a.d(r,"submit",function(){return L}),a.d(r,"default",function(){return P});var i={};a.r(i),a.d(i,"login",function(){return S}),a.d(i,"post",function(){return P}),a.d(i,"pender",function(){return f.penderReducer});var s=a(0),c=a.n(s),o=a(20),l=a.n(o),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var p=a(134),h=a(12),d=a(14),f=a(18),g=a.n(f),v=a(26),b=a(1),k=a.n(b),y=a(9),E=a(137),w=a(133),j=a(2),O=a.n(j),N=function(){var e=Object(y.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/auth/login");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),C=Object(E.a)("login/LOGIN",N),S=Object(w.a)(Object(v.a)({},Object(f.pender)({type:"login/LOGIN",onSuccess:function(e,t){var a=t.payload.data;return localStorage.setItem("id",a.user.id),localStorage.setItem("nick",a.user.nick),localStorage.setItem("pic",a.user.pic),{user:a.user}}})),{user:null,id:null}),x=a(21),I=function(e,t){return O.a.post("/post",{content:e,img:t})},A=Object(E.a)("post/CHANGE"),L=Object(E.a)("post/SUBMIT",I),P=Object(w.a)(Object(v.a)(Object(x.a)({},"post/CHANGE",function(e,t){return{input:t.payload}}),Object(f.pender)({type:"post/SUBMIT",onSuccess:function(e,t){return{postedId:t.payload.data.id}}})),{input:"",postedId:""}),M=Object(d.c)(i),F=[g()()],D=d.d,T=function(){return Object(d.e)(M,D(d.a.apply(void 0,F)))},z=a(5),B=a(6),U=a(4),W=a(7),R=a(8),K=a(136),H=a(132),q=(a(83),a(131)),G=a(135),_=a(45),J=a.n(_),Y=function(e){var t=e.width,a=e.height,n=e.pw,r=e.ph,i={width:t,height:a};return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:n,height:r}},c.a.createElement("img",{src:J.a,style:i,alt:""}))},Z=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isLoading:!1,error:!1},a.ref=null,a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.tryLogin=Object(y.a)(k.a.mark(function e(){var t,n,r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.state,n=t.email,r=t.password,e.next=4,O.a.post("/auth/login",{email:n,password:r});case 4:"failure"===(i=e.sent).data?setTimeout(function(){a.setState({email:"",password:"",isLoading:!1,error:!0}),a.ref.focus()},200):(localStorage.setItem("id",i.data.id),localStorage.setItem("nick",i.data.nick),localStorage.setItem("pic",i.data.pic),a.setState({isLoading:!1}),a.props.history.push("/feed"));case 6:case"end":return e.stop()}},e,this)})),a.handleEnter=function(e){"Enter"===e.key&&a.tryLogin()},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=window.innerWidth>450?"100px":"50px";return this.state.isLoading?c.a.createElement(Y,{width:t,height:t,pw:"100%",ph:"90vh"}):c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"inner"},c.a.createElement("h2",null,"Koostagram"),c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("input",{placeholder:"email",name:"email",spellCheck:!1,className:"input",value:this.state.email,onChange:this.handleChange,ref:function(t){return e.ref=t}})),c.a.createElement("p",null,c.a.createElement("input",{placeholder:"password",name:"password",type:"password",className:"input",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleEnter})),c.a.createElement("p",{style:{textAlign:"center"}},c.a.createElement("input",{className:"submit",type:"submit",value:"Login",onClick:this.tryLogin})),this.state.error?c.a.createElement("div",{className:"error-message"},"id \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):null,c.a.createElement("div",{style:{textAlign:"center",paddingBottom:"20px",paddingTop:"20px"}},"If you don't have account..."),c.a.createElement("p",{style:{textAlign:"center"}},c.a.createElement(q.a,{to:"/register"},c.a.createElement("input",{className:"submit",type:"button",value:"New Account"}))),c.a.createElement("p",{style:{textAlign:"center"}},c.a.createElement("input",{className:"submit",type:"submit",value:"Now Beta..",style:{background:"#fcd411"},disabled:!0,onClick:Object(y.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.a.post("/auth/kakao");case 1:case"end":return e.stop()}},e,this)}))})))),c.a.createElement("div",{className:"left-box"},c.a.createElement("img",{className:"img",src:"https://www.parisapartment7eme.com/eiffelcam/etandmoonb.jpg",alt:""})))}}]),t}(s.Component),$=Object(G.a)(Z),Q=function(e){function t(e){var a;return Object(z.a)(this,t),a=Object(U.a)(this,Object(W.a)(t).call(this,e)),localStorage.getItem("id")?(a.props.history.push("/feed"),Object(U.a)(a)):a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.LoginActions.login()}},{key:"render",value:function(){return c.a.createElement($,null)}}]),t}(s.Component),V=Object(h.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(d.b)(n,e)}})(Object(G.a)(Q)),X=function(){return c.a.createElement("div",null,c.a.createElement(V,null))},ee=a(17),te=(a(86),a(88),function(e){var t=e.children,a=document.getElementById("modal");return l.a.createPortal(t,a)}),ae=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleOpenModal=function(){a.props.handleModal(!0)},a.handleCloseModal=function(){a.props.handleModal(!1)},a.showProfile=function(e){a.handleCloseModal(),a.props.history.push("/user/".concat(e))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.check,n=t.list;if(!0===t.open){var r=n.map(function(t){return c.a.createElement("div",{key:t.id,style:{display:"flex",justifyContent:"space-between"},onClick:function(){e.showProfile(t.id)},className:"each-user"},c.a.createElement("div",null,c.a.createElement("img",{src:t.pic?t.pic:"https://myspace.com/common/images/user.png",className:"img",alt:""})),c.a.createElement("div",{className:"nick"},t.nick))});return c.a.createElement(te,null,c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"content"},c.a.createElement("center",null,c.a.createElement("h3",null,a)),c.a.createElement("div",{className:"flist"},r),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement("button",{onClick:this.handleCloseModal,className:"close"},"Close")))))}return null}}]),t}(s.Component),ne=Object(G.a)(ae),re=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={nick:"",buttonLabel:"follow",followers:[],following:[],profilePic:"",modal:!1,select:0,style:null,isLoading:!1},a.renderModal=function(){return c.a.createElement(ne,{open:a.state.modal})},a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r,i,s,c,o,l,u,m,p;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.props.match.params.userid,n=a.props,r=n.history,i=n.uid,"unfollow"===a.state.buttonLabel&&a.setState({buttonLabel:"follow"}),e.next=6,O.a.post("/post/getNick",{userid:t}).catch(function(e){alert("Wrong Request(\ud574\ub2f9 \uc720\uc800\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"),r.push("/")});case 6:return s=e.sent,e.next=9,Promise.all([O.a.post("/post/getFollowers",{userid:t}),O.a.post("/post/getFollowing",{userid:t}),O.a.post("/post/getUserPic",{userid:t})]);case 9:c=e.sent,o=Object(ee.a)(c,3),l=o[0],u=o[1],m=o[2],a.setState({isLoading:!1}),p=null,Number(localStorage.getItem("id"))&&(p=Number(i)===Number(localStorage.getItem("id"))?{cursor:"pointer"}:null),a.setState({nick:s.data,followers:l.data.filter(function(e){return e.id!==Number(t)}),following:u.data.filter(function(e){return e.id!==Number(t)}),profilePic:m.data,style:p}),a.checkFollow();case 19:case"end":return e.stop()}},e,this)})),a.checkFollow=function(){var e=a.state.followers;Number(localStorage.getItem("id"))&&e.forEach(function(e){e.id===Number(localStorage.getItem("id"))&&a.setState({buttonLabel:"unfollow"})})},a.handleFollow=function(e){var t=a.props.match.params.userid,n=a.state,r=n.followers;"follow"===n.buttonLabel?(O.a.post("/post/follow",{followid:Number(localStorage.getItem("id")),userid:t}),a.setState({buttonLabel:"unfollow",followers:r.concat({id:Number(localStorage.getItem("id")),nick:localStorage.getItem("nick"),pic:localStorage.getItem("pic")})})):(O.a.post("/post/unfollow",{followid:Number(localStorage.getItem("id")),userid:t}),a.setState({buttonLabel:"follow",followers:r.filter(function(e){return e.id!==Number(localStorage.getItem("id"))})}))},a.showFollowerModal=function(e){a.setState({modal:!0,select:0})},a.showFollowingModal=function(e){a.setState({modal:!0,select:1})},a.handleModal=function(e){a.setState({modal:e})},a.editProfile=function(){var e=a.props,t=e.uid,n=e.history;Number(t)===Number(localStorage.getItem("id"))&&n.push("/edit")},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.uid;e.uid!==a&&this.initializer()}},{key:"render",value:function(){var e,t=this.props.match.params.userid,a=this.state,n=a.followers,r=a.following,i=a.buttonLabel,s=a.nick,o=a.modal,l=a.select,u=a.profilePic,m=a.style;if(a.isLoading){var p;p=window.innerWidth>676?"240px":"310px";var h=window.innerWidth>450?"100px":"50px";return c.a.createElement("div",{className:"profile"},c.a.createElement(Y,{width:h,height:h,pw:"100%",ph:p}))}return window.innerWidth<450&&s.length>=8&&(e={fontSize:"1rem",fontWeight:"800"}),c.a.createElement("div",{className:"profile"},l?c.a.createElement(ne,{open:o,handleModal:this.handleModal,check:"Following",list:r}):c.a.createElement(ne,{open:o,handleModal:this.handleModal,check:"Followers",list:n}),c.a.createElement("div",{className:"profile-pic",onClick:this.editProfile,style:m},c.a.createElement("img",{src:u||"https://myspace.com/common/images/user.png",alt:""})),c.a.createElement("div",{className:"user-detail"},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",null,c.a.createElement("div",{className:"nick",style:e},s?""+s:"loading...")," ",c.a.createElement("br",null),localStorage.getItem("id")&&t!==localStorage.getItem("id")?c.a.createElement("input",{type:"button",value:i,onClick:this.handleFollow,className:"follow-button"}):null)),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"show-follow",onClick:this.showFollowerModal},n.length," ",c.a.createElement("br",null)),"Followers"),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"show-follow",onClick:this.showFollowingModal},r.length," ",c.a.createElement("br",null)),"Following")))}}]),t}(s.PureComponent),ie=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(re,{user:this.props.user,uid:this.props.uid,match:this.props.match,history:this.props.history}))}}]),t}(s.Component),se=Object(h.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(d.b)(n,e)}})(ie),ce=(a(90),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=a.props,n=t.item;t.history.push("/user/".concat(n.userId,"/").concat(n.id))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props.item;return c.a.createElement("img",{src:e.img,style:{width:"100%",height:"100%"},alt:"",onClick:this.handleClick})}}]),t}(s.Component)),oe=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={posts:["noPost"],isLoading:!1},a.initializer=function(){var e=a.props.match.params.userid;a.setState({isLoading:!0}),O.a.post("/post/getPosts",{userid:e}).then(function(e){a.setState({posts:e.data.reverse(),isLoading:!1})})},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"componentDidUpdate",value:function(e,t){e.uid!==this.props.uid&&this.initializer()}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,n=t.isLoading,r=window.innerWidth>450?"100px":"50px";if(n)return c.a.createElement(Y,{width:r,height:r,pw:"100%",ph:"60vh"});if("noPost"===a[0])return null;if(0===a.length)return c.a.createElement("div",{className:"no-post"},"No post ");var i=a.map(function(t,a){return c.a.createElement(ce,{src:t.img,key:a,item:t,history:e.props.history})});return c.a.createElement("center",null,c.a.createElement("div",{className:"posts"},i))}}]),t}(s.Component),le=Object(G.a)(oe),ue=(a(92),Object(G.a)(function(e){var t=e.match,a=e.history,n=t.params.userid;return c.a.createElement("div",{className:"userpage-container"},c.a.createElement(se,{uid:n,match:t,history:a}),c.a.createElement(le,{uid:n}))})),me=(a(94),a(96),a(98),function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.hashtag;return c.a.createElement("div",{className:"hashed",onClick:function(){t.push("/feed?hashtag=".concat(a.slice(1)))}},a)}}]),t}(s.Component)),pe=(a(100),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={isExist:!0,id:null},a.handleClick=function(){var e=a.props.history;a.state.isExist&&a.state.id&&e.push("/user/".concat(a.state.id))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.mention.slice(1),e.next=3,O.a.post("/post/getIdByNick",{nick:t});case 3:(a=e.sent).data.id?this.setState({id:a.data.id}):this.setState({isExist:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.mention,t=this.state.isExist?"mention":null;return c.a.createElement("div",{className:t,onClick:this.handleClick},e)}}]),t}(s.Component)),he=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={id:null,tk:!0},a.handleClick=function(){var e=a.props.history,t=a.state.id;t&&e.push("/user/".concat(t))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/post/getIdByNick",{nick:this.props.usernick});case 2:t=e.sent,this.setState({id:t.data.id});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props,n=a.content,r=a.usernick;return n&&(e=(e=n.split(/\s+/)).map(function(e){return"#"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(me,{hashtag:e,history:t.props.history})):"@"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(pe,{mention:e,history:t.props.history,match:t.props.match})):c.a.createElement("div",{className:"word"},e)})),c.a.createElement("div",{className:"each-comment"},c.a.createElement("div",{onClick:this.handleClick,className:"nick-area"},r," \xa0"," "),c.a.createElement("div",{className:"test2"}," ",e))}}]),t}(s.Component),de=Object(G.a)(he),fe="https://cdn1.iconfinder.com/data/icons/valentine-s-day-simplicity/512/empty_heart-512.png",ge="https://cdn1.iconfinder.com/data/icons/love-icons/512/love-heart-512.png",ve=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={like:fe,likeCount:0,comment:"",commentsBefore:null,modal:!1,likers:[],isloading:!1},a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isloading:!0}),t=a.props.match.params.postid,e.next=4,O.a.post("/post/getLikeCount",{postid:t});case 4:return n=e.sent,e.next=7,O.a.post("/post/getComments",{postid:t});case 7:r=e.sent,a.setState({likeCount:n.data.length,commentsBefore:r.data,likers:n.data}),localStorage.getItem("id")&&n.data.forEach(function(e){e.id===Number(localStorage.getItem("id"))&&a.setState({like:ge})}),a.setState({isloading:!1});case 11:case"end":return e.stop()}},e,this)})),a.updateComment=Object(y.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.postid,e.next=3,O.a.post("/post/getComments",{postid:t});case 3:n=e.sent,a.setState({commentsBefore:n.data},function(){document.getElementById("cl").scrollTop=document.getElementById("cl").scrollHeight});case 5:case"end":return e.stop()}},e,this)})),a.handleLikeClick=function(){var e=a.props.match.params.postid;localStorage.getItem("id")?a.state.like===fe?(a.setState({like:ge,likeCount:a.state.likeCount+1}),O.a.post("/post/like",{userid:Number(localStorage.getItem("id")),postid:e})):(a.setState({like:fe,likeCount:a.state.likeCount-1}),O.a.post("/post/unlike",{userid:Number(localStorage.getItem("id")),postid:e})):alert("Login \ud6c4\uc5d0 \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.")},a.handleCommentChange=function(e){a.setState({comment:e.target.value})},a.handleSubmit=function(){var e=Object(y.a)(k.a.mark(function e(t){var n,r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.match.params.postid,r=a.state.comment,i=[];try{i=r.match(/#[^\s]*/g).filter(function(e){return e.length>=14})}catch(t){i=[]}if(localStorage.getItem("id")){e.next=7;break}return alert("\uba3c\uc800 \ub85c\uadf8\uc778\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 7:if(!(r.length>=50)){e.next=10;break}return alert("\ub313\uae00\uc740 50\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 10:if(!r.match(/#.*\S#/g)){e.next=15;break}return alert("\ud574\uc26c\ud0dc\uadf8\ub294 \uc5f0\uacb0\ud574\uc11c \ub4f1\ub85d\ud560\uc218 \uc5c6\uc5b4\uc694!"),e.abrupt("return");case 15:if(!i[0]){e.next=18;break}return alert("14\uc790\uac00 \ub118\ub294 \ud574\uc26c\ud0dc\uadf8\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("return");case 18:if(r){e.next=21;break}return alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 21:return e.next=23,O.a.post("/post/uploadComment",{content:r,postid:n,usernick:localStorage.getItem("nick")});case 23:a.setState({comment:""}),a.updateComment();case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleKeyPress=function(e){"Enter"===e.key&&a.handleSubmit()},a.showLikers=function(){a.setState({modal:!0})},a.handleModal=function(e){a.setState({modal:e})},a.timeConversion=function(e){var t=(e/1e3).toFixed(0),a=(e/6e4).toFixed(0),n=(e/36e5).toFixed(0);return t<60?t?t+" sec ago":"\ubc29\uae08 \uc804":a<60?a+" min ago":n<24?n+" hrs ago":void 0},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"componentDidUpdate",value:function(e,t){e.token1===this.props.token1&&e.token2===this.props.token2||this.initializer()}},{key:"render",value:function(){var e=this,t=this.props,a=t.previewCount,n=t.createdAt,r=this.state,i=r.commentsBefore,s=r.modal;if(r.isloading)return c.a.createElement(Y,{width:"50px",height:"50px",pw:"100%",ph:"150%"});var o=null;if(n){var l=n.substr(0,10);o=l===(new Date).toISOString().substr(0,10)?this.timeConversion(new Date-Date.parse(n)):l}var u=i&&i.map(function(t){return c.a.createElement(de,{content:t.content,usernick:t.usernick,key:t.id,match:e.props.match})});return null!==u&&0===u.length&&(u="\uccab \ucf54\uba58\ud2b8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!"),c.a.createElement("div",{className:"comment"},c.a.createElement(ne,{open:s,handleModal:this.handleModal,check:"Likers",list:this.state.likers}),c.a.createElement("div",null,c.a.createElement("div",{className:"like-wrap"},c.a.createElement("div",null,c.a.createElement("img",{style:{cursor:"pointer"},src:this.state.like,width:30,height:30,alt:"",onClick:this.handleLikeClick}),c.a.createElement("span",{className:"show-likers",onClick:this.showLikers},"\xa0",this.state.likeCount," likes")),c.a.createElement("div",{className:"sk-requirement"},c.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/glyph/141/Alarm-Clock-512.png",width:30,height:30,alt:""}),c.a.createElement("span",null,o)))),c.a.createElement("div",{className:"comments-list",id:"cl"},u),a>=5?c.a.createElement("div",null,c.a.createElement("div",{className:"comment-write"},c.a.createElement("input",{value:this.state.comment,onChange:this.handleCommentChange,onKeyPress:this.handleKeyPress,className:"comment-input",placeholder:"Your Comment",spellCheck:!1}),c.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit,className:"comment-submit"}))):null)}}]),t}(s.Component),be=Object(G.a)(ve),ke=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.previewCount,n=e.createdAt;return c.a.createElement("div",{style:{height:"36%"}},c.a.createElement(be,{user:t,previewCount:a,token1:this.props.token1,token2:this.props.token2,createdAt:n}))}}]),t}(s.Component),ye=Object(h.b)(function(e){return{user:e.login.user}})(ke),Ee=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={img:null,content:null,nick:null,createdAt:null},a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r,i,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.userid,r=t.postid,e.next=3,O.a.post("/post/getSinglePost",{postid:r});case 3:if((i=e.sent).data){e.next=8;break}return alert("\ud574\ub2f9 \uac8c\uc2dc\uae00\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),a.props.history.push("/"),e.abrupt("return");case 8:return e.next=10,O.a.post("/post/getNick",{userid:n}).catch(function(e){alert("\ud574\ub2f9 \uc720\uc800\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),a.props.history.push("/")});case 10:s=e.sent,a.setState({img:i.data.img,content:i.data.content,nick:s.data,createdAt:i.data.createdAt});case 12:case"end":return e.stop()}},e,this)})),a.handleDelete=Object(y.a)(k.a.mark(function e(){var t,n,r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,n=t.postid,r=t.userid,i=a.props.history,!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=8;break}return e.next=5,O.a.post("/post/deletePost",{postid:n});case 5:i.push("/user/".concat(r)),e.next=9;break;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)})),a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initializer();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){e.token1===this.props.token1&&e.token2===this.props.token2||this.initializer()}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.img,r=a.content,i=a.createdAt,s=this.props.match.params.userid,o=this.props.history;return r&&(e=(e=r.split(/\s+/)).map(function(e){return"#"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(me,{hashtag:e,history:t.props.history})):"@"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(pe,{mention:e,history:t.props.history,match:t.props.match})):c.a.createElement("div",{className:"word"},e)})),n?c.a.createElement("div",{className:"post-template"},c.a.createElement("div",{className:"pic"},c.a.createElement("img",{src:n,alt:""})),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"nick-with-delete-button"},c.a.createElement("b",{className:"nick",style:{cursor:"pointer"},onClick:function(){o.push("/user/".concat(s))}},c.a.createElement("div",{style:{marginBottom:"20px"}},"@",this.state.nick)),(localStorage.getItem("id")?Number(localStorage.getItem("id")):null)===Number(s)?c.a.createElement("input",{className:"delete-button",type:"button",value:"Delete",onClick:this.handleDelete}):null),c.a.createElement("div",{className:"test2"},e),c.a.createElement("div",null,this.hashtags)),c.a.createElement(ye,{previewCount:5,token1:this.props.token1,token2:this.props.token2,createdAt:i}))):c.a.createElement("div",{className:"loading"},c.a.createElement(Y,{width:"100px",height:"100px",pw:"10%",ph:"10vh"}))}}]),t}(s.Component),we=Object(G.a)(Ee),je=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.userid,a=e.postid;return c.a.createElement("div",null,c.a.createElement(we,{user:this.props.user,token1:t,token2:a}))}}]),t}(s.Component),Oe=Object(h.b)(function(e){return{user:e.login.user}})(je),Ne=function(e){var t=e.match;return c.a.createElement("div",null,c.a.createElement(Oe,{match:t}))},Ce=function(){return c.a.createElement("div",{className:"no-post",style:{fontSize:"3rem",marginTop:"15vh"}},"Page Not Found")},Se=(a(102),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,uploading:!1,imagePreviewUrl:null},a.handleSubmit=function(){var e=Object(y.a)(k.a.mark(function e(t){var n,r,i,s,c,o,l,u,m,p,h;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.history,i=n.input,s=n.onChange,c=a.state.selectedFile,o=i.match(/#[^\s]*/g),l=i.match(/#.*\S#/g),c){e.next=9;break}return alert("\uc0ac\uc9c4\uc740 \ud544\uc218\ub85c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 9:if(!(i.length>=140)){e.next=14;break}return alert("\ubcf8\ubb38 \ub0b4\uc6a9\uc740 140\uc790 \uc774\ub0b4\ub85c \ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 14:if(!o){e.next=19;break}if(!(o=o.filter(function(e){return e.length>=14}))[0]){e.next=19;break}return alert("12\uc790\uac00 \ub118\ub294 \ud574\uc26c\ud0dc\uadf8\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("return");case 19:if(!l){e.next=22;break}return alert("\ud574\uc26c\ud0dc\uadf8 \uac04\uc5d0\ub294 \uacf5\ubc31\uc744 \ub123\uc5b4\uc8fc\uc138\uc694.(space)"),e.abrupt("return");case 22:if("jpg"===(u=c.name.split(".")[c.name.split(".").length-1].toLowerCase())||"jpeg"===u||"png"===u||"gif"===u){e.next=26;break}return alert("\ud30c\uc77c\uc758 \ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4. jpg, png, gif\ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4."),e.abrupt("return");case 26:return(m=new FormData).append("img",c,c.name),m.append("text",i),m.append("id",Number(localStorage.getItem("id"))),p={headers:{"Content-Type":"multipart/form-data"}},a.setState({uploading:!0}),e.next=34,O.a.post("/post",m,p);case 34:"failure"===(h=e.sent).data?(a.setState({uploading:!1}),alert("\uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \uc5f0\ub77d\uc8fc\uc138\uc694."),r.push("/write")):(s(""),r.push("/user/".concat(h.data.userId,"/").concat(h.data.id)));case 36:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){(0,a.props.onChange)(e.target.value)},a.handleFileChange=function(e){var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({selectedFile:n,imagePreviewUrl:t.result})};try{t.readAsDataURL(n)}catch(r){}},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props.input,a=this.state.imagePreviewUrl,n=t.length<140?null:{color:"red"},r=window.innerWidth>450?"\uc624\ub298\uc758 \ud558\ub8e8\ub294 \uc5b4\ub5a0\uc168\ub098\uc694? :)":"\uc624\ub298\uc758 \ud558\ub8e8\ub294\n\uc5b4\ub5a0\uc168\ub098\uc694? :)",i=a?c.a.createElement("img",{src:a,alt:""}):null,s=window.innerWidth>450?"100px":"50px",o=this.state.selectedFile?"\ub2e4\uc2dc \uace0\ub974\uae30":"\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc9c4 \uace0\ub974\uae30";return this.state.uploading?c.a.createElement(Y,{width:s,height:s,pw:"100%",ph:"90vh"}):c.a.createElement("center",null,c.a.createElement("div",{className:"writing-form"},c.a.createElement("div",{className:"title"},"Post Your Content!"),c.a.createElement("div",{className:"preview"},i),c.a.createElement("label",{className:"file-wrapper"},o,c.a.createElement("input",{id:"img",name:"img",type:"file",className:"file-upload",onChange:this.handleFileChange,accept:".gif, .jpg, .png"})),c.a.createElement("textarea",{spellCheck:!1,name:"content",placeholder:r,className:"text",value:t,onChange:this.handleChange}),c.a.createElement("div",{className:"word-count",style:n},t.length<140?t.length+" / 140":"\uae00\uc790\uc218 \ucd08\uacfc"),c.a.createElement("input",{type:"button",value:"Submit!",className:"submit",onClick:function(){e.handleSubmit(t)}})))}}]),t}(s.Component)),xe=Object(G.a)(Se),Ie=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("id")||(alert("Please login first."),this.props.history.push("/"))}},{key:"render",value:function(){var e=this.props,t=e.PostActions,a=e.input;return c.a.createElement("div",null,c.a.createElement(xe,{input:a,onSubmit:t.submit,onChange:function(e){t.change(e)}}))}}]),t}(s.Component),Ae=Object(h.b)(function(e){return{input:e.post.input,user:e.login.user}},function(e){return{PostActions:Object(d.b)(r,e)}})(Object(G.a)(Ie)),Le=function(){return c.a.createElement("div",null,c.a.createElement(Ae,null))},Pe=function(){return c.a.createElement("div",null,c.a.createElement(Le,null))},Me=(a(104),a(32)),Fe=function(){var e=Object(y.a)(k.a.mark(function e(t,a){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post(t,{input:a});case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),De=function(e,t){var a=Object(s.useState)(e),n=Object(ee.a)(a,2),r=n[0],i=n[1],c=Object(s.useState)(!1),o=Object(ee.a)(c,2),l=o[0],u=o[1],m=function(){var e=Object(y.a)(k.a.mark(function e(a){var n,r,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target.value,i(n),"/auth/nickCheck"!==t){e.next=10;break}return e.next=5,Fe(t,n);case 5:r=e.sent,console.log(r),n.length<=10&&n.length>0&&"ok"===r?u(!0):u(!1),e.next=24;break;case 10:if("/auth/emailCheck"!==t){e.next=23;break}if(!/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(n)){e.next=20;break}return e.next=15,Fe(t,n);case 15:s=e.sent,console.log(s),u("ok"===s),e.next=21;break;case 20:u(!1);case 21:e.next=24;break;case 23:n.length>=8?u(!0):u(!1);case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return{value:r,onChange:m,validity:l}},Te=function(e){var t=e.history,a=De("","/auth/emailCheck"),n=De("","/auth/nickCheck"),r=De("");return console.log(n.value,n.validity),c.a.createElement("center",null,c.a.createElement("div",{className:"register-form"},c.a.createElement("label",null,"Email \uc785\ub825"),c.a.createElement("input",Object.assign({className:"input",id:"1"},a,{placeholder:"email\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",spellCheck:!1})),a.validity?c.a.createElement("div",{style:{color:"blue"}},"\uc0ac\uc6a9\uac00\ub2a5\ud55c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."):c.a.createElement("div",{style:{color:"red"}},"\ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uac70\ub098 \uc911\ubcf5 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."),c.a.createElement("label",null,"Nickname \uc785\ub825"),c.a.createElement("input",Object.assign({className:"input"},n,{placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",spellCheck:!1})),n.validity?c.a.createElement("div",{style:{color:"blue"}},"\uc0ac\uc6a9\uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."):c.a.createElement("div",{style:{color:"red"}},"\uc0ac\uc6a9\uc774 \ubd88\uac00\ub2a5\ud55c \ub2c9\ub124\uc784 \uc785\ub2c8\ub2e4."),c.a.createElement("label",null,"Password \uc785\ub825"),c.a.createElement("input",Object.assign({className:"input",type:"password"},r,{placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",spellCheck:!1})),r.validity?c.a.createElement("div",{style:{color:"blue"}},"\uc0ac\uc6a9\uac00\ub2a5\ud55c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4."):c.a.createElement("div",{style:{color:"red"}},"\ube44\ubc00\ubc88\ud638\uac00 \ub108\ubb34 \uc9e7\uc2b5\ub2c8\ub2e4."),c.a.createElement("input",{type:"button",className:"submit-regi",value:"Submit",onClick:Object(y.a)(k.a.mark(function e(){var i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.validity&&n.validity&&r.validity)){e.next=9;break}return e.next=3,O.a.post("/auth/join",{email:a.value,nick:n.value,password:r.value});case 3:i=e.sent,console.log(i.data),"success"===i.data?t.push("/"):alert("\uac00\uc785\uc744 \ud658\uc601\ud569\ub2c8\ub2e4!"),t.push("/"),e.next=10;break;case 9:alert("\uc870\uac74\uc5d0 \ub9de\uac8c \uc694\uc18c\ub4e4\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694!");case 10:case"end":return e.stop()}},e,this)}))})))},ze=function(e){var t=e.history;return c.a.createElement("div",null,c.a.createElement(Te,{history:t}))},Be=(a(107),a(109),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",commentsBefore:"loading..."},a.handleChange=function(e){a.setState({content:e.target.value})},a.handleSubmit=Object(y.a)(k.a.mark(function e(){var t,n,r,i,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props,n=t.handleCommentAction,r=t.id,i=a.state.content,s=[];try{s=i.match(/#[^\s]*/g).filter(function(e){return e.length>=14})}catch(c){}if(localStorage.getItem("id")){e.next=7;break}return alert("\uba3c\uc800 \ub85c\uadf8\uc778\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 7:if(!(i.length>=50)){e.next=10;break}return alert("\ub313\uae00\uc740 50\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 10:if(!i.match(/#.*\S#/g)){e.next=15;break}return alert("\ud574\uc26c\ud0dc\uadf8\ub294 \uc5f0\uacb0\ud574\uc11c \ub4f1\ub85d\ud560\uc218 \uc5c6\uc5b4\uc694!"),e.abrupt("return");case 15:if(!s[0]){e.next=18;break}return alert("14\uc790\uac00 \ub118\ub294 \ud574\uc26c\ud0dc\uadf8\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("return");case 18:if(i){e.next=21;break}return alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 21:if(!i.match(/#.*\S#/g)){e.next=26;break}return alert("\ud574\uc26c\ud0dc\uadf8\ub294 \uc5f0\uacb0\ud574\uc11c \ub4f1\ub85d\ud560\uc218 \uc5c6\uc5b4\uc694!"),e.abrupt("return");case 26:if(!s[0]){e.next=29;break}return alert("14\uc790\uac00 \ub118\ub294 \ud574\uc26c\ud0dc\uadf8\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("return");case 29:return e.next=31,O.a.post("/post/uploadComment",{content:a.state.content,postid:r,usernick:localStorage.getItem("nick")});case 31:"success"===e.sent.data?n():alert("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 33:case"end":return e.stop()}},e,this)})),a.handleEnter=function(e){"Enter"===e.key&&a.handleSubmit()},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t,a,n,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("loading..."!==this.state.commentsBefore||0===this.props.commentsCount){e.next=7;break}return e.next=3,O.a.post("/post/getComments",{postid:this.props.id});case 3:t=e.sent,a=t.data,n=a?a.map(function(e){return c.a.createElement(de,{content:e.content,usernick:e.usernick,key:e.id,match:r.props.match})}):"nocomment",this.setState({commentsBefore:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"each-feed-comment"},c.a.createElement("div",{className:"get-comment"},0===this.props.commentsCount?"":this.state.commentsBefore),c.a.createElement("input",{placeholder:"Add Comment",className:"comment-content",value:this.state.content,onChange:this.handleChange,onKeyPress:this.handleEnter}),c.a.createElement("input",{type:"button",value:"Submit",className:"submit-button",onClick:this.handleSubmit}))}}]),t}(s.Component)),Ue="https://cdn1.iconfinder.com/data/icons/valentine-s-day-simplicity/512/empty_heart-512.png",We="https://cdn1.iconfinder.com/data/icons/love-icons/512/love-heart-512.png",Re=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={nick:"",likeCounts:0,profilePic:"",isLoading:!1,like:Ue,commentsCount:0,commentToggle:0},a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r,i,s,c,o,l,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.props,n=t.id,r=t.userid,e.next=4,O.a.post("/post/getNick",{userid:a.props.userid});case 4:return i=e.sent,e.next=7,Promise.all([O.a.post("/post/getLikeCount",{postid:n}),O.a.post("/post/getComments",{postid:n}),O.a.post("/post/getUserPic",{userid:r})]);case 7:s=e.sent,c=Object(ee.a)(s,3),o=c[0],l=c[1],u=c[2],a.setState({nick:i.data,likeCounts:o.data.length,profilePic:u.data,commentsCount:l.data.length}),localStorage.getItem("id")&&o.data.forEach(function(e){e.id===Number(localStorage.getItem("id"))&&a.setState({like:We})}),a.setState({isLoading:!1});case 15:case"end":return e.stop()}},e,this)})),a.handleClick=function(){var e=a.props,t=e.history,n=e.id,r=e.userid;t.push("/user/".concat(r,"/").concat(n))},a.handleLikeClick=function(){var e=a.props.id;localStorage.getItem("id")?a.state.like===Ue?(a.setState({like:We,likeCounts:a.state.likeCounts+1}),O.a.post("/post/like",{userid:Number(localStorage.getItem("id")),postid:e})):(a.setState({like:Ue,likeCounts:a.state.likeCounts-1}),O.a.post("/post/unlike",{userid:Number(localStorage.getItem("id")),postid:e})):alert("\uc88b\uc544\uc694\ub294 \ub85c\uadf8\uc778 \ud6c4\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},a.toggleComment=function(){var e=a.state.commentToggle;localStorage.getItem("nick")?a.setState({commentToggle:!e}):alert("\ub313\uae00 \uc791\uc131\uc740 \ub85c\uadf8\uc778 \ud6c4\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},a.handleCommentAction=function(){var e=a.state.commentsCount;a.setState({commentsCount:e+1,commentToggle:0})},a.timeConversion=function(e){var t=(e/1e3).toFixed(0),a=(e/6e4).toFixed(0),n=(e/36e5).toFixed(0);return t<60?t?t+" sec ago":"\ubc29\uae08 \uc804":a<60?a+" min ago":n<24?n+" hrs ago":void 0},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"render",value:function(){var e=this,t=this.props,a=t.img,n=t.date,r=t.content,i=t.userid,s=t.history,o=this.state,l=o.nick,u=o.likeCounts,m=o.profilePic,p=o.like,h=o.commentsCount,d=n.substr(0,10),f=null;f=d===(new Date).toISOString().substr(0,10)?this.timeConversion(new Date-Date.parse(n)):d;var g,v="100px";return window.innerWidth<500&&(v="50px"),this.state.isLoading?c.a.createElement(Y,{width:v,height:v,pw:"100%",ph:"90vh"}):(r&&(g=(g=r.split(/\s+/)).map(function(t){return"#"===t[0]&&t.length>1?c.a.createElement("div",null,c.a.createElement(me,{hashtag:t,history:e.props.history})):"@"===t[0]&&t.length>1?c.a.createElement("div",null,c.a.createElement(pe,{mention:t,history:e.props.history,match:e.props.match})):c.a.createElement("div",{className:"word"},t)})),c.a.createElement("div",{className:"each-feed"},c.a.createElement("div",{className:"top"},c.a.createElement("div",{className:"left",onClick:function(){s.push("/user/".concat(i))},style:{cursor:"pointer"}},c.a.createElement("div",{className:"profile-pic"},c.a.createElement("img",{src:m||"https://myspace.com/common/images/user.png",alt:""})),l),c.a.createElement("div",{className:"right"},c.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/glyph/141/Alarm-Clock-512.png",width:30,height:30,alt:""}),c.a.createElement("span",{className:"span"},f))),c.a.createElement("div",{className:"img-area"},c.a.createElement("div",{onClick:this.handleClick,className:"onimg"},c.a.createElement("img",{src:a,alt:""})),c.a.createElement("div",{className:"bottom"},c.a.createElement("div",{className:"comment-area"},c.a.createElement("img",{src:p,width:30,height:30,alt:"",style:{cursor:"pointer",marginTop:"5px",marginRight:"5px",marginLeft:"-10px"},onClick:this.handleLikeClick}),c.a.createElement("div",{style:{width:"100%"}},u)," ",c.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/vectory-basic/40/comment_2-512.png",width:30,height:30,alt:"",style:{marginTop:"5px",marginLeft:"10px",cursor:"pointer"},onClick:this.toggleComment}),c.a.createElement("div",{className:"cCount"},h)),c.a.createElement("div",{className:"test"},g),this.state.commentToggle?c.a.createElement("div",null,c.a.createElement(Be,{handleCommentAction:this.handleCommentAction,id:this.props.id,commentsCount:h})):null))))}}]),t}(s.Component),Ke=(a(111),a(23)),He=a.n(Ke),qe=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.shuffle=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/post/getAlluser");case 2:t=e.sent,this.setState({users:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users,a=this.props,n=a.recommendedUsersNumber,r=a.isFirstLogin,i=a.query,s=[];Number(localStorage.getItem("id"))&&(s=t.filter(function(e){return e.id!==Number(localStorage.getItem("id"))}));var o=(s=(s=this.shuffle(s)).slice(0,n)).map(function(t){return c.a.createElement(Ge,{user:t,key:t.id,history:e.props.history,pic:t.pic})});return c.a.createElement("div",{style:{textAlign:"center",paddingLeft:"10%",paddingRight:"10%"},className:"rec-user"},c.a.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",marginTop:"30px"}},r?c.a.createElement("div",{className:"greeting"},"Feed\uc5d0 \ub354 \uc774\uc0c1 \uc18c\uc2dd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",c.a.createElement("br",null)," \uc544\ub798 \uacc4\uc815\ub4e4\ub3c4 \ub458\ub7ec\ubcf4\uc138\uc694!"):c.a.createElement("div",{className:"greeting"},i?"\uac80\uc0c9\uacb0\uacfc \uc5c6\uc74c":"Koostagram \uac00\uc785\uc744 \ud658\uc601\ud569\ub2c8\ub2e4!",c.a.createElement("br",null),"Follow\ud560 \uacc4\uc815\uc744 \ub458\ub7ec\ubcf4\uc138\uc694!")),c.a.createElement("div",{className:"following-rec"},o))}}]),t}(s.Component),Ge=function(e){var t=e.user,a=e.history,n=e.pic;return c.a.createElement("div",{className:"each-rec",onClick:function(){a.push("/user/".concat(t.id))}},c.a.createElement("div",{className:"profile-pic"},n?c.a.createElement("img",{src:n,alt:""}):c.a.createElement("img",{src:"https://myspace.com/common/images/user.png",alt:""})),c.a.createElement("div",{className:"nick"},t.nick))},_e=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={list:null,loadingState:!1,noPost:null,tk:0,wrongAccess:null,isLoading:!1},a.items=[],a.it=0,a.endOfList=!1,a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.location,n=He.a.parse(t.search),localStorage.getItem("id")||n.hashtag){e.next=4;break}return e.abrupt("return");case 4:if(!n.hashtag){e.next=10;break}return e.next=7,O.a.post("/post/getHashTagPost",{tag:n.hashtag});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,O.a.post("/post/getFollowingPosts",{userid:Number(localStorage.getItem("id"))});case 12:e.t0=e.sent;case 13:if(r=e.t0,"no data"!==(i=r.data)){e.next=20;break}return a.setState({noPost:1}),e.abrupt("return");case 20:a.it=i.length,i=i.reverse(),a.items=i.splice(0,3),a.setState({tk:!a.state.tk}),i.length>3?a.infiniteScroll(i):(a.endOfList=!0,a.setState({tk:!a.state.tk}));case 25:case"end":return e.stop()}},e,this)})),a.infiniteScroll=function(e){a.refs.iScroll.addEventListener("scroll",function(){a.refs.iScroll.scrollTop+a.refs.iScroll.clientHeight+25>=a.refs.iScroll.scrollHeight&&a.loadMoreItems(e)})},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.initializer()},100)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.user,r=a.ht;if(e.user!==n||e.ht!==r){this.initializer();try{document.getElementById("list").scrollTo(0,0)}catch(i){return void console.log(i)}}}},{key:"loadMoreItems",value:function(e){var t=this;if(this.items.length>=this.it)return this.endOfList=!0,void this.setState({tk:!this.state.tk});var a=this.items,n=e.splice(0,3);this.setState({loadingState:!0}),this.items=a.concat(n),setTimeout(function(){t.setState({loadingState:!1})},1e3)}},{key:"render",value:function(){var e=this,t=this.items,a=this.props,n=a.history,r=a.location,i=He.a.parse(r.search);if(this.state.noPost&&0===this.it)return c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(qe,{loginuser:this.props.user,history:this.props.history,recommendedUsersNumber:100,query:i}));var s=t.map(function(t){return c.a.createElement(Re,{id:t.id,img:t.img,nick:t.nick,history:n,key:t.id,date:t.createdAt,userid:t.userId,content:t.content,loggedInUser:e.props.user})}),o=3;return 0===this.it&&(o=100),c.a.createElement("div",{className:"feed"},c.a.createElement("div",{ref:"iScroll",className:"list",id:"list"},i.hashtag?c.a.createElement("center",null,c.a.createElement("div",{className:"searched-hashtag"},"Searched Hashtag : ",window.innerWidth<450?c.a.createElement("br",null):null,c.a.createElement("span",{className:"ht"},"#",i.hashtag))):c.a.createElement("div",{style:{height:"30px"}}),c.a.createElement("center",null,s),this.endOfList?c.a.createElement(qe,{history:this.props.history,recommendedUsersNumber:o,isFirstLogin:this.it,loginuser:this.props.user,location:this.props.user}):""))}}]),t}(s.Component),Je=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(_e,{user:this.props.user,history:this.props.history,location:this.props.location,ht:this.props.ht}))}}]),t}(s.Component),Ye=Object(h.b)(function(e){return{user:e.login.user}})(Object(G.a)(Je)),Ze=function(e){var t=e.location,a=He.a.parse(t.search).hashtag;return c.a.createElement("div",{style:{overflow:"hidden"}},c.a.createElement(Ye,{ht:a}))},$e=(a(119),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,uploading:!1},a.handleFileChange=function(e){a.setState({selectedFile:e.target.files[0]}),console.log(e.target.files[0])},a.handleSubmit=Object(y.a)(k.a.mark(function e(){var t,n,r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.history,n=a.state.selectedFile){e.next=5;break}return alert("\ud504\ub85c\ud544 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 5:return r=new FormData,console.log(n),r.append("img",n,n.name),r.append("userid",Number(localStorage.getItem("id"))),i={headers:{"Content-Type":"multipart/form-data"}},a.setState({uploading:!0}),e.next=13,O.a.post("/post/profile",r,i);case 13:t.push("/user/".concat(localStorage.getItem("id")));case 14:case"end":return e.stop()}},e,this)})),a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.history;if(!Number(localStorage.getItem("id")))return alert("Please login first"),void a.push("/")}},{key:"render",value:function(){var e=this.state.selectedFile,t=window.innerWidth>450?"100px":"50px";return this.state.uploading?c.a.createElement(Y,{width:t,height:t,pw:"100%",ph:"90vh"}):c.a.createElement("div",{className:"edit"},c.a.createElement("center",null,c.a.createElement("div",{className:"writing-form"},c.a.createElement("label",{className:"file-wrapper"},e?"\uc120\ud0dd\uc644\ub8cc :)":"\ud504\ub85c\ud544 \uc0ac\uc9c4 \uc120\ud0dd\ud558\uae30",c.a.createElement("input",{id:"img",name:"img",type:"file",className:"file-upload",onChange:this.handleFileChange,accept:".gif, .jpg, .png"})),e?e.name:"",c.a.createElement("input",{type:"button",value:"Submit",className:"submit",onClick:this.handleSubmit}))))}}]),t}(s.Component)),Qe=Object(h.b)(function(e){return{user:e.login.user}})(Object(G.a)($e)),Ve=function(){return c.a.createElement("div",null,c.a.createElement(Qe,null))},Xe=(a(121),a(123),function(e){var t=e.children,a=document.getElementById("modal");return l.a.createPortal(t,a)}),et=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={nickname:null,pic:null,postpic:null,style:{color:"black"}},a.handleClick=function(){var e=a.props,t=e.history,n=e.postid,r=e.handleCloseModal,i=a.state.postUserId;r(),t.push("/user/".concat(i,"/").concat(n))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t,a,n,r,i,s,c,o,l,u,m,p;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.isChecked,n=t.userid,r=t.postid,i=a?{color:"gray"}:{color:"black"},e.t0=Promise,e.next=5,O.a.post("/post/getNick",{userid:n});case 5:return e.t1=e.sent,e.next=8,O.a.post("/post/getUserPic",{userid:n});case 8:return e.t2=e.sent,e.next=11,O.a.post("/post/getSinglePost",{postid:r});case 11:return e.t3=e.sent,e.next=14,O.a.post("/post/togglenotification",{userid:Number(localStorage.getItem("id"))});case 14:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.next=18,e.t0.all.call(e.t0,e.t5);case 18:s=e.sent,c=Object(ee.a)(s,3),o=c[0],l=c[1],u=c[2],m=u.data?u.data.img:null,p=u.data?u.data.userId:null,this.setState({nickname:o.data,pic:l.data,postpic:m,postUserId:p,style:i});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.nickname,a=e.pic,n=e.postpic,r="";switch(this.props.category){case"like":r="\uac8c\uc2dc\ubb3c\uc744 \uc88b\uc544\ud569\ub2c8\ub2e4.";break;case"comment":r="\uac8c\uc2dc\ubb3c\uc5d0 \ub313\uae00\uc744 \ub0a8\uacbc\uc2b5\ub2c8\ub2e4.";break;case"follow":r="\ub2f9\uc2e0\uc744 \ud314\ub85c\uc6b0 \ud588\uc2b5\ub2c8\ub2e4.";break;case"mention":r="\ub2f9\uc2e0\uc744 \uc5b8\uae09\ud588\uc2b5\ub2c8\ub2e4."}return t&&"string"===typeof a?c.a.createElement("div",{className:"each-noti",onClick:this.handleClick},c.a.createElement("img",{src:a||"https://myspace.com/common/images/user.png",alt:"",className:"img"}),c.a.createElement("div",{className:"word",style:this.state.style},c.a.createElement("div",{className:"nickname"},t),"\ub2d8\uc774"," ",r),n?c.a.createElement("img",{src:n,alt:"",className:"postpic"}):c.a.createElement("div",null)):c.a.createElement("div",{onClick:this.handleClick},c.a.createElement(Y,{ph:45}))}}]),t}(s.Component),tt=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleCloseModal=function(){a.props.handleToggle()},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.initializer()}},{key:"render",value:function(){var e=this,t=this.props.notifications,a=t.map(function(t){return c.a.createElement(et,{userid:t.notifying,postid:t.post,category:t.category,history:e.props.history,handleCloseModal:e.handleCloseModal,isChecked:t.isChecked})});return c.a.createElement(Xe,null,c.a.createElement("div",{className:"notify-modal"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",null,"Notifications"),"loading"===t&&c.a.createElement(Y,{ph:520}),t[0]?c.a.createElement("div",{className:"notifications"},a):c.a.createElement("div",{className:"notifications",style:{fontSize:"1.5rem",fontWeight:"500"}},"\uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",c.a.createElement("br",null),"\uc0c8 \uac8c\uc2dc\uae00\uc744 \uc62c\ub824\ubcf4\uc138\uc694."),c.a.createElement("div",null,c.a.createElement("button",{onClick:this.handleCloseModal,className:"close"},"Close")))))}}]),t}(s.Component),at=Object(G.a)(tt),nt=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={toggle:!1,notifications:"loading",hasNewNotification:!1},a.getNotifications=function(){setInterval(Object(y.a)(k.a.mark(function e(){var t,n,r,i,s,c,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(localStorage.getItem("id")),e.next=3,O.a.post("/post/notification",{userid:t});case 3:n=e.sent,r=!0,i=!1,s=void 0,e.prev=7,c=n.data[Symbol.iterator]();case 9:if(r=(o=c.next()).done){e.next=17;break}if(o.value.isChecked){e.next=14;break}return a.setState({hasNewNotification:!0}),e.abrupt("break",17);case 14:r=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),i=!0,s=e.t0;case 23:e.prev=23,e.prev=24,r||null==c.return||c.return();case 26:if(e.prev=26,!i){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:a.setState({notifications:n.data});case 32:case"end":return e.stop()}},e,this,[[7,19,23,31],[24,,26,30]])})),1e4)},a.initializer=Object(y.a)(k.a.mark(function e(){var t,n,r,i,s,c,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(localStorage.getItem("id")),e.next=3,O.a.post("/post/notification",{userid:t});case 3:n=e.sent,r=!0,i=!1,s=void 0,e.prev=7,c=n.data[Symbol.iterator]();case 9:if(r=(o=c.next()).done){e.next=17;break}if(o.value.isChecked){e.next=14;break}return a.setState({hasNewNotification:!0}),e.abrupt("break",17);case 14:r=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),i=!0,s=e.t0;case 23:e.prev=23,e.prev=24,r||null==c.return||c.return();case 26:if(e.prev=26,!i){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:a.setState({notifications:n.data});case 32:case"end":return e.stop()}},e,this,[[7,19,23,31],[24,,26,30]])})),a.handleToggle=function(){a.setState({toggle:!a.state.toggle,hasNewNotification:!1})},a.handleLink=function(e){localStorage.getItem("id")?a.props.history.push(e):alert("\ub85c\uadf8\uc778 \ud6c4 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},a.handleToggleNotify=function(){localStorage.getItem("id")?a.setState({toggle:!a.state.toggle}):alert("\ub85c\uadf8\uc778 \ud6c4 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Number(localStorage.getItem("id"))&&this.getNotifications(),this.initializer();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.getNotifications()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAble,n=t.input,r=t.handleChange,i=t.handleBlur,s=this.state,o=s.toggle,l=s.hasNewNotification,u=a?{cursor:"pointer"}:null;return c.a.createElement("div",{className:"wrapper"},o?c.a.createElement(at,{handleToggle:this.handleToggle,notifications:this.state.notifications,initializer:this.initializer}):null,c.a.createElement("div",{className:"header"},c.a.createElement(q.a,{className:"logo",to:"/"},"Koostagram"),c.a.createElement("div",{className:"search-container"},c.a.createElement("input",{type:"text",className:"search",value:n,onChange:r,spellCheck:!1,placeholder:"Search",onBlur:i})),c.a.createElement("div",{className:"right-part"},c.a.createElement("div",{className:"button-icon",style:u,onClick:function(){e.handleLink("/write")}},c.a.createElement("img",{className:"imgs",alt:"",src:"https://cdn3.iconfinder.com/data/icons/web-ui-3/128/Compose-2-512.png"})),c.a.createElement("div",{className:"button-icon",style:u,onClick:function(){e.handleLink("/user/"+localStorage.getItem("id"))}},c.a.createElement("img",{className:"imgs",alt:"",src:"https://image.flaticon.com/icons/svg/149/149071.svg"})),c.a.createElement("div",{className:"button-icon cont",style:u,onClick:this.handleToggleNotify},c.a.createElement("img",{className:"imgs",alt:"",src:"https://image.flaticon.com/icons/svg/148/148921.svg"}),l&&c.a.createElement("div",{className:"dot"})))))}}]),t}(s.Component),rt=Object(G.a)(nt),it=(a(125),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=a.props,t=e.history,n=e.user;t.push("/user/".concat(n.id))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props.user;return c.a.createElement("div",{className:"user-result",onClick:this.handleClick},e.nick)}}]),t}(s.Component)),st=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log("hashtag Clicked");var e=a.props,t=e.history,n=e.hashtag;t.push("/feed?hashtag=".concat(n.title))},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props.hashtag;return c.a.createElement("div",{className:"ht-result",onClick:this.handleClick},"#",e.title)}}]),t}(s.Component),ct=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).mapItems=function(e,t,n){return"user"===t?e.slice(0,n).map(function(e){return c.a.createElement(it,{user:e,history:a.props.history,key:e.id})}):e.slice(0,3).map(function(e){return c.a.createElement(st,{hashtag:e,history:a.props.history,key:e.id})})},a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,a=e.data,n=this.mapItems;if(t.length<=1)return c.a.createElement("div",null);if(a){var r=a.user,i=a.hashtag;return r[0]&&i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"user-list"},n(r,"user",3)),c.a.createElement("div",{className:"hash-list"},n(i,"hash",3)))):r[0]&&!i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"user-list",style:{height:"200px"}},n(r,"user",6)))):!r[0]&&i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"hash-list",style:{height:"200px"}},n(i,"hash",6)))):c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"noresult"},"No Result")))}return c.a.createElement("div",null)}}]),t}(s.Component),ot=Object(G.a)(ct),lt=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={input:"",results:null},a.handleChange=function(e){a.setState({input:e.target.value},function(){a.state.input.length>=2&&a.searchUser(a.state.input)})},a.handleBlur=function(){setTimeout(function(){a.setState({input:""})},150)},a.searchUser=Object(Me.debounce)(function(){var e=Object(y.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/post/search",{input:t});case 2:n=e.sent,a.setState({results:n.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),500),a}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAble,a=e.to,n=this.state.input;return c.a.createElement("div",null,c.a.createElement(rt,{isAble:t,to:a,input:n,handleChange:this.handleChange,handleBlur:this.handleBlur,id:Number(localStorage.getItem("id"))}),c.a.createElement(ot,{data:this.state.results,input:n}))}}]),t}(s.Component),ut=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("id");return c.a.createElement("div",null,null!==e?c.a.createElement(lt,{isAble:!0,to:"/user/".concat(e)}):c.a.createElement(lt,{isAble:!1,to:"123"}),c.a.createElement(K.a,null,c.a.createElement(H.a,{exact:!0,path:"/",component:X}),c.a.createElement(H.a,{path:"/user/:userid/:postid",component:Ne}),c.a.createElement(H.a,{path:"/user/:userid",component:ue}),c.a.createElement(H.a,{path:"/write",component:Pe}),c.a.createElement(H.a,{path:"/register",component:ze}),c.a.createElement(H.a,{path:"/feed",component:Ze}),c.a.createElement(H.a,{path:"/edit",component:Ve}),c.a.createElement(H.a,{component:Ce})))}}]),t}(s.Component),mt=function(e){function t(){return Object(z.a)(this,t),Object(U.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.LoginActions.login()}},{key:"render",value:function(){var e=this.props.user;return c.a.createElement(ut,{user:e})}}]),t}(s.Component),pt=Object(G.a)(Object(h.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(d.b)(n,e)}})(mt)),ht=function(){var e=T();return c.a.createElement(h.a,{store:e},c.a.createElement(p.a,null,c.a.createElement(pt,null)))};a(127);l.a.render(c.a.createElement(ht,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");u?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):m(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):m(e)})}}()},45:function(e,t,a){e.exports=a.p+"static/media/puff.4597a1a0.svg"},48:function(e,t,a){e.exports=a(130)},83:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){}},[[48,2,1]]]);
//# sourceMappingURL=main.c3711767.chunk.js.map