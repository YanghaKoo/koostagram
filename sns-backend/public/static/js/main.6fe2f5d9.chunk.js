(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){},106:function(e,t,n){},108:function(e,t,n){},110:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},123:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"login",function(){return N}),n.d(a,"default",function(){return x});var r={};n.r(r),n.d(r,"submitPost",function(){return Ee}),n.d(r,"change",function(){return Oe}),n.d(r,"submit",function(){return je}),n.d(r,"default",function(){return we});var i={};n.r(i),n.d(i,"login",function(){return x}),n.d(i,"post",function(){return we}),n.d(i,"pender",function(){return O.penderReducer});var s=n(0),c=n.n(s),o=n(22),l=n.n(o),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var h=n(3),m=n(4),d=n(2),f=n(5),v=n(6),g=n(132),b=n(128),k=n(23),y=n(133),E=n(129),O=n(18),j=n.n(O),w=n(7),C=n.n(w),N=Object(y.a)("login/LOGIN",function(){return C.a.get("/auth/login")}),x=Object(E.a)(Object(k.a)({},Object(O.pender)({type:"login/LOGIN",onSuccess:function(e,t){return{user:t.payload.data.user}}})),{user:null,id:null}),S=n(12),A=n(14),L=n(8),M=n.n(L),P=n(9),_=(n(83),n(127)),F=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"inner"},c.a.createElement("h2",null,"Koostagram"),c.a.createElement("form",{action:"/auth/login",method:"post"},c.a.createElement("p",null,c.a.createElement("input",{placeholder:"email",name:"email",spellCheck:!1})),c.a.createElement("p",null,c.a.createElement("input",{placeholder:"password",name:"password",type:"password"})),c.a.createElement("center",null,c.a.createElement("p",null,c.a.createElement("input",{className:"submit",type:"submit",value:"Login"}))),c.a.createElement("div",{style:{textAlign:"center",paddingBottom:"20px",paddingTop:"20px"}},"If you don't have account..."),c.a.createElement("p",null,c.a.createElement(_.a,{to:"/register"},c.a.createElement("input",{className:"submit",type:"button",value:"New Account"}))),c.a.createElement("center",null,c.a.createElement("p",null,c.a.createElement("input",{className:"fb submit",type:"submit",value:"Now Beta..",style:{background:"#fcd411"},disabled:!0,onClick:Object(P.a)(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C.a.post("/auth/kakao");case 1:case"end":return e.stop()}},e,this)}))}))))),c.a.createElement("div",{className:"left-box"},c.a.createElement("img",{className:"img",src:"http://www.parisapartment7eme.com/eiffelcam/etandmoonb.jpg",alt:""})))}}]),t}(s.Component),I=n(131),T=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).props.user?(n.props.history.push("/feed"),Object(d.a)(n)):n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.LoginActions.login()}},{key:"render",value:function(){return c.a.createElement(F,null)}}]),t}(s.Component),B=Object(S.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(A.b)(a,e)}})(Object(I.a)(T)),D=function(){return c.a.createElement("div",null,c.a.createElement(B,null))},z=(n(86),n(88),function(e){var t=e.children,n=document.getElementById("modal");return l.a.createPortal(t,n)}),U=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleOpenModal=function(){n.props.handleModal(!0)},n.handleCloseModal=function(){n.props.handleModal(!1)},n.showProfile=function(e){n.handleCloseModal(),n.props.history.push("/user/".concat(e))},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.check,a=t.list;if(!0===t.open){var r=a.map(function(t){return c.a.createElement("div",{key:t.id,style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",null,t.nick),c.a.createElement("div",{className:"show-profile",onClick:function(){e.showProfile(t.id)}},"show profile"))});return c.a.createElement(z,null,c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"content"},c.a.createElement("center",null,c.a.createElement("h3",null,n)),c.a.createElement("div",{className:"flist"},r),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement("button",{onClick:this.handleCloseModal,className:"close"},"Close")))))}return null}}]),t}(s.Component),W=Object(I.a)(U),H=n(44),R=n.n(H),K=function(e){var t=e.width,n=e.height,a=e.pw,r=e.ph,i={width:t,height:n};return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:a,height:r}},c.a.createElement("img",{src:R.a,style:i,alt:""}))},G=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={nick:"",buttonLabel:"follow",followers:[],following:[],profilePic:"",modal:!1,select:0,style:null,isLoading:!1},n.renderModal=function(){return c.a.createElement(W,{open:n.state.modal})},n.initializer=Object(P.a)(M.a.mark(function e(){var t,a,r,i,s,c,o,l,u,p;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),t=n.props.match.params.userid,a=n.props,r=a.history,i=a.uid,s=a.user,"unfollow"===n.state.buttonLabel&&n.setState({buttonLabel:"follow"}),e.next=6,C.a.post("/post/getNick",{userid:t}).catch(function(e){alert("Wrong Request(\ud574\ub2f9 \uc720\uc800\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"),r.push("/")});case 6:return c=e.sent,e.next=9,C.a.post("/post/getFollowers",{userid:t});case 9:return o=e.sent,e.next=12,C.a.post("/post/getFollowing",{userid:t});case 12:return l=e.sent,e.next=15,C.a.post("/post/getUserPic",{userid:t});case 15:u=e.sent,n.setState({isLoading:!1}),p=null,s&&(p=Number(i)===s.id?{cursor:"pointer"}:null),n.setState({nick:c.data,followers:o.data.filter(function(e){return e.id!==Number(t)}),following:l.data.filter(function(e){return e.id!==Number(t)}),profilePic:u.data,style:p}),n.checkFollow();case 21:case"end":return e.stop()}},e,this)})),n.checkFollow=function(){var e=n.props.user,t=n.state.followers;e&&t.map(function(t){t.id===e.id&&n.setState({buttonLabel:"unfollow"})})},n.handleFollow=function(e){var t=n.props.match.params.userid,a=n.props.user,r=n.state,i=r.followers;"follow"===r.buttonLabel?(C.a.post("/post/follow",{followid:a.id,userid:t}),n.setState({buttonLabel:"unfollow",followers:i.concat({id:a.id,nick:a.nick})})):(C.a.post("/post/unfollow",{followid:a.id,userid:t}),n.setState({buttonLabel:"follow",followers:i.filter(function(e){return e.id!==a.id})}))},n.showFollowerModal=function(e){n.setState({modal:!0,select:0})},n.showFollowingModal=function(e){n.setState({modal:!0,select:1})},n.handleModal=function(e){n.setState({modal:e})},n.editProfile=function(){var e=n.props,t=e.uid,a=e.user,r=e.history;Number(t)===a.id&&r.push("/edit")},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.uid;e.uid!==n&&this.initializer()}},{key:"render",value:function(){var e,t=this.props.match.params.userid,n=this.props.user,a=this.state,r=a.followers,i=a.following,s=a.buttonLabel,o=a.nick,l=a.modal,u=a.select,p=a.profilePic,h=a.style;return a.isLoading?(e=window.innerWidth>676?"240px":"370px",c.a.createElement("div",{className:"profile"},c.a.createElement(K,{width:"100px",height:"100px",pw:"100%",ph:e}))):c.a.createElement("div",{className:"profile"},u?c.a.createElement(W,{open:l,handleModal:this.handleModal,check:"Following",list:i}):c.a.createElement(W,{open:l,handleModal:this.handleModal,check:"Followers",list:r}),c.a.createElement("div",{className:"profile-pic",onClick:this.editProfile,style:h},p?c.a.createElement("img",{src:p,alt:""}):c.a.createElement("div",{className:"no-image"},"No Image")),c.a.createElement("div",{className:"user-detail"},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",null,c.a.createElement("div",{className:"nick",style:{fontSize:"1.5rem"}},o?"@"+o:"loading...")," ",c.a.createElement("br",null),n&&Number(t)!==n.id?c.a.createElement("input",{type:"button",value:s,onClick:this.handleFollow,className:"follow-button"}):null)),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"show-follow",onClick:this.showFollowerModal},r.length," ",c.a.createElement("br",null)),"Followers"),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"show-follow",onClick:this.showFollowingModal},i.length," ",c.a.createElement("br",null)),"Following")))}}]),t}(s.PureComponent),q=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(G,{user:this.props.user,uid:this.props.uid,match:this.props.match,history:this.props.history}))}}]),t}(s.Component),J=Object(S.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(A.b)(a,e)}})(q),Y=(n(90),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=n.props,a=t.item;t.history.push("/user/".concat(a.userId,"/").concat(a.id))},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.item;return c.a.createElement("img",{src:e.img,style:{width:"100%",height:"100%"},alt:"",onClick:this.handleClick})}}]),t}(s.Component)),Z=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={posts:["noPost"],isLoading:!1},n.initializer=function(){var e=n.props.match.params.userid;n.setState({isLoading:!0}),C.a.post("/post/getPosts",{userid:e}).then(function(e){n.setState({posts:e.data.reverse(),isLoading:!1})})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"componentDidUpdate",value:function(e,t){e.uid!==this.props.uid&&this.initializer()}},{key:"render",value:function(){var e=this,t=this.state,n=t.posts;if(t.isLoading)return c.a.createElement(K,{width:"100px",height:"100px",pw:"100%",ph:"60vh"});if("noPost"===n[0])return null;if(0===n.length)return c.a.createElement("div",{className:"no-post"},"No post ");var a=n.map(function(t,n){return c.a.createElement(Y,{src:t.img,key:n,item:t,history:e.props.history})});return c.a.createElement("center",null,c.a.createElement("div",{className:"posts"},a))}}]),t}(s.Component),$=Object(I.a)(Z),Q=Object(I.a)(function(e){var t=e.match,n=e.history,a=t.params.userid;return c.a.createElement("div",null,c.a.createElement(J,{uid:a,match:t,history:n}),c.a.createElement($,{uid:a}))}),V=(n(92),n(94),n(96),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={id:null},n.handleClick=function(){var e=n.props.history,t=n.state.id;t&&e.push("/user/".concat(t))},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/post/getIdByNick",{nick:this.props.usernick});case 2:t=e.sent,this.setState({id:t.data.id});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.content,n=e.usernick;return c.a.createElement("div",{className:"each-comment"},c.a.createElement("div",{onClick:this.handleClick,className:"nick-area"},n," \xa0 "),c.a.createElement("div",{className:"contents"}," ",t))}}]),t}(s.Component)),X=Object(I.a)(V),ee="https://cdn1.iconfinder.com/data/icons/valentine-s-day-simplicity/512/empty_heart-512.png",te="https://cdn1.iconfinder.com/data/icons/love-icons/512/love-heart-512.png",ne=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={like:ee,likeCount:0,comment:"",commentsBefore:null,modal:!1,likers:[],isloading:!1},n.initializer=Object(P.a)(M.a.mark(function e(){var t,a,r,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isloading:!0}),t=n.props.match.params.postid,a=n.props.user,e.next=5,C.a.post("/post/getLikeCount",{postid:t});case 5:return r=e.sent,e.next=8,C.a.post("/post/getComments",{postid:t});case 8:i=e.sent,n.setState({likeCount:r.data.length,commentsBefore:i.data,likers:r.data}),a&&r.data.map(function(e){e.id===a.id&&n.setState({like:te})}),n.setState({isloading:!1});case 12:case"end":return e.stop()}},e,this)})),n.updateComment=Object(P.a)(M.a.mark(function e(){var t,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.postid,e.next=3,C.a.post("/post/getComments",{postid:t});case 3:a=e.sent,n.setState({commentsBefore:a.data},function(){document.getElementById("cl").scrollTop=document.getElementById("cl").scrollHeight});case 5:case"end":return e.stop()}},e,this)})),n.handleLikeClick=function(){var e=n.props.match.params.postid,t=n.props.user;t?n.state.like===ee?(n.setState({like:te,likeCount:n.state.likeCount+1}),C.a.post("/post/like",{userid:t.id,postid:e})):(n.setState({like:ee,likeCount:n.state.likeCount-1}),C.a.post("/post/unlike",{userid:t.id,postid:e})):alert("Login \ud6c4\uc5d0 \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.")},n.handleCommentChange=function(e){n.setState({comment:e.target.value})},n.handleSubmit=function(){var e=Object(P.a)(M.a.mark(function e(t){var a,r,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.user){e.next=3;break}return alert("\uba3c\uc800 \ub85c\uadf8\uc778\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 3:if(!(n.state.comment.length>=50)){e.next=6;break}return alert("\ub313\uae00\uc740 50\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),e.abrupt("return");case 6:return a=n.props.match.params.postid,r=n.state.comment,i=n.props.user.nick,r||alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.next=12,C.a.post("/post/uploadComment",{content:r,postid:a,usernick:i});case 12:n.setState({comment:""}),n.updateComment();case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleKeyPress=function(e){"Enter"===e.key&&n.handleSubmit()},n.showLikers=function(){n.setState({modal:!0})},n.handleModal=function(e){n.setState({modal:e})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"render",value:function(){var e=this.props.previewCount,t=this.state,n=t.commentsBefore,a=t.modal;if(t.isloading)return c.a.createElement(K,{width:"50px",height:"50px",pw:"100%",ph:"150%"});var r=n&&n.map(function(e){return c.a.createElement(X,{content:e.content,usernick:e.usernick,key:e.id})});return null!==r&&0===r.length&&(r="\uccab \ucf54\uba58\ud2b8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!"),c.a.createElement("div",{className:"comment"},c.a.createElement(W,{open:a,handleModal:this.handleModal,check:"Likers",list:this.state.likers}),c.a.createElement("div",null,c.a.createElement("img",{style:{cursor:"pointer"},src:this.state.like,width:30,height:30,alt:"",onClick:this.handleLikeClick}),c.a.createElement("span",{className:"show-likers",onClick:this.showLikers},"\xa0",this.state.likeCount," ","likes")),c.a.createElement("div",{className:"comments-list",id:"cl"},r),e>=5?c.a.createElement("div",{className:"comment-write"},c.a.createElement("input",{value:this.state.comment,onChange:this.handleCommentChange,onKeyPress:this.handleKeyPress,className:"comment-input",placeholder:"Your Comment"}),c.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit,className:"comment-submit"})):null)}}]),t}(s.Component),ae=Object(I.a)(ne),re=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.previewCount;return c.a.createElement("div",{style:{height:"36%"}},c.a.createElement(ae,{user:t,previewCount:n}))}}]),t}(s.Component),ie=Object(S.b)(function(e){return{user:e.login.user}})(re),se=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.hashtag;return c.a.createElement("div",{className:"hashed",onClick:function(){t.push("/feed?hashtag=".concat(n.slice(1)))}},n)}}]),t}(s.Component),ce=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={img:null,content:null,nick:null},n.handleDelete=Object(P.a)(M.a.mark(function e(){var t,a,r,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.postid,r=t.userid,i=n.props.history,!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=8;break}return e.next=5,C.a.post("/post/deletePost",{postid:a});case 5:i.push("/user/".concat(r)),e.next=9;break;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)})),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(M.a.mark(function e(){var t,n,a,r,i,s=this;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,n=t.userid,a=t.postid,e.next=3,C.a.post("/post/getSinglePost",{postid:a});case 3:if((r=e.sent).data){e.next=8;break}return alert("Wrong Request(\ud574\ub2f9 \uac8c\uc2dc\uae00\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"),this.props.history.push("/"),e.abrupt("return");case 8:return e.next=10,C.a.post("/post/getNick",{userid:n}).catch(function(e){alert("Wrong Request(\ud574\ub2f9 \uc720\uc800\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"),s.props.history.push("/")});case 10:i=e.sent,this.setState({img:r.data.img,content:r.data.content,nick:i.data});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,n=this.state,a=n.img,r=n.content,i=this.props.match.params.userid,s=this.props,o=s.history,l=s.user;return r&&(e=(e=r.split(/\s+/)).map(function(e){return"#"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(se,{hashtag:e,history:t.props.history})):c.a.createElement("div",{className:"word"},e)})),a?c.a.createElement("div",{className:"post-template"},c.a.createElement("div",{className:"pic"},c.a.createElement("img",{src:a,alt:""})),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"nick-with-delete-button"},c.a.createElement("b",{className:"nick",style:{cursor:"pointer"},onClick:function(){o.push("/user/".concat(i))}},c.a.createElement("div",{style:{marginBottom:"20px"}},"@",this.state.nick)),(l?l.id:null)===Number(i)?c.a.createElement("input",{className:"delete-button",type:"button",value:"Delete",onClick:this.handleDelete}):null),c.a.createElement("div",{className:"test"},e),c.a.createElement("div",null,this.hashtags)),c.a.createElement(ie,{previewCount:5}))):c.a.createElement("div",{className:"loading"},c.a.createElement(K,{width:"100px",height:"100px",pw:"10%",ph:"10vh"}))}}]),t}(s.Component),oe=Object(I.a)(ce),le=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(oe,{user:this.props.user}))}}]),t}(s.Component),ue=Object(S.b)(function(e){return{user:e.login.user}})(le),pe=function(){return c.a.createElement("div",null,c.a.createElement(ue,null))},he=function(){return c.a.createElement("div",{className:"no-post",style:{fontSize:"3rem",marginTop:"15vh"}},"Page Not Found")},me=(n(98),n(46)),de=(n(100),function(e){var t=e.children,n=Object(me.a)(e,["children"]);return c.a.createElement("div",n,t)}),fe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){localStorage.removeItem("user"),n.props.history.push("/user/4")},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isAble,a=e.to,r=e.token,i=n&&a?_.a:de,s="button";return n||(s="button disable"),r?c.a.createElement("div",{className:s,onClick:this.handleClick,style:{cursor:"pointer"}},t):c.a.createElement(i,{href:a,to:a,className:s},t)}}]),t}(c.a.Component),ve=Object(I.a)(fe),ge=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAble,n=e.to,a=e.input,r=e.handleChange,i=e.handleBlur;return c.a.createElement("div",{className:"header"},c.a.createElement(_.a,{className:"logo",to:"/"},"Koostagram"),c.a.createElement("div",{className:"search-container"},c.a.createElement("input",{type:"text",className:"search",value:a,onChange:r,spellCheck:!1,placeholder:"Search",onBlur:i})),c.a.createElement("div",{className:"right-part"},c.a.createElement(ve,{isAble:t,to:"/write"},"Write Post"),c.a.createElement(ve,{isAble:t,to:n},"My Page")))}}]),t}(s.Component),be=(n(102),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,uploading:!1},n.handleSubmit=function(){var e=Object(P.a)(M.a.mark(function e(t){var a,r,i,s,c,o,l,u,p,h;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,r=a.history,i=a.input,s=a.onChange,c=n.state.selectedFile,o=i.match(/#[^\s]*/g),l=i.match(/#.*\S#/g),console.log(l),c){e.next=10;break}return alert("\uc0ac\uc9c4\uc740 \ud544\uc218\ub85c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 10:if(!(i.length>=140)){e.next=15;break}return alert("\ubcf8\ubb38 \ub0b4\uc6a9\uc740 140\uc790 \uc774\ub0b4\ub85c \ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 15:if(!o){e.next=20;break}if(!(o=o.filter(function(e){return e.length>=14}))[0]){e.next=20;break}return alert("12\uc790\uac00 \ub118\ub294 \ud574\uc26c\ud0dc\uadf8\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("return");case 20:if(!l){e.next=23;break}return alert("\ud574\uc26c\ud0dc\uadf8 \uac04\uc5d0\ub294 \uacf5\ubc31\uc744 \ub123\uc5b4\uc8fc\uc138\uc694.(space)"),e.abrupt("return");case 23:return u=new FormData,console.log(c),u.append("img",c,c.name),u.append("text",i),p={headers:{"Content-Type":"multipart/form-data"}},e.next=30,C.a.post("/post",u,p);case 30:h=e.sent,console.log(h.data),s(""),n.setState({uploading:!0}),r.push("/user/".concat(h.data.userId,"/").concat(h.data.id));case 35:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleFileChange=function(e){n.setState({selectedFile:e.target.files[0]}),console.log(e.target.files[0])},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.input,n=t.length<140?null:{color:"red"},a=window.innerWidth>450?"\uc624\ub298\uc758 \ud558\ub8e8\ub294 \uc5b4\ub5a0\uc168\ub098\uc694? :)":"\uc624\ub298\uc758 \ud558\ub8e8\ub294\n\uc5b4\ub5a0\uc168\ub098\uc694? :)",r=this.state.selectedFile?"Selected!":"Click HERE to Select Image";return this.state.uploading?c.a.createElement(K,{width:"50px",height:"50px",pw:"100%",ph:"90vh"}):c.a.createElement("center",null,c.a.createElement("div",{className:"writing-form"},c.a.createElement("div",{className:"title"},"Post Your Contents"),c.a.createElement("label",{className:"file-wrapper"},r,c.a.createElement("input",{id:"img",name:"img",type:"file",className:"file-upload",onChange:this.handleFileChange,accept:".gif, .jpg, .png"})),c.a.createElement("textarea",{spellCheck:!1,name:"content",placeholder:a,className:"text",value:t,onChange:this.handleChange}),c.a.createElement("div",{className:"word-count",style:n},t.length<140?t.length+" / 140":"\uae00\uc790\uc218 \ucd08\uacfc"),c.a.createElement("input",{type:"button",value:"Submit!",className:"submit",onClick:function(){e.handleSubmit(t)}})))}}]),t}(s.Component)),ke=Object(I.a)(be),ye=n(17),Ee=function(e,t){return C.a.post("/post",{content:e,img:t})},Oe=Object(y.a)("post/CHANGE"),je=Object(y.a)("post/SUBMIT",Ee),we=Object(E.a)(Object(k.a)(Object(ye.a)({},"post/CHANGE",function(e,t){return{input:t.payload}}),Object(O.pender)({type:"post/SUBMIT",onSuccess:function(e,t){return{postedId:t.payload.data.id}}})),{input:"",postedId:""}),Ce=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.user||(alert("Please login first."),this.props.history.push("/"))}},{key:"render",value:function(){var e=this.props,t=e.PostActions,n=e.input;return c.a.createElement("div",null,c.a.createElement(ke,{input:n,onSubmit:t.submit,onChange:function(e){t.change(e)}}))}}]),t}(s.Component),Ne=Object(S.b)(function(e){return{input:e.post.input,user:e.login.user}},function(e){return{PostActions:Object(A.b)(r,e)}})(Object(I.a)(Ce)),xe=function(){return c.a.createElement("div",null,c.a.createElement(Ne,null))},Se=function(){return c.a.createElement("div",null,c.a.createElement(xe,null))},Ae=(n(104),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",nick:"",password:"",e_placeholder:"Email\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",n_placeholder:"nickname \uc785\ub825 \ubc0f \uc911\ubcf5\uac80\uc0ac\ub97c \ud574\uc8fc\uc138\uc694.",p_placeholder:"8\uc790\uc774\uc0c1\uc758 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",e_validity:0,n_validity:0,p_validity:0},n.handleChange=function(e){var t;if("nick"===e.target.name)n.setState((t={},Object(ye.a)(t,e.target.name,e.target.value),Object(ye.a)(t,"n_validity",0),Object(ye.a)(t,"n_placeholder","nickname \uc911\ubcf5 \uac80\uc0ac\ub97c \ud574\uc8fc\uc138\uc694."),t));else if("email"===e.target.name){var a;n.setState((a={},Object(ye.a)(a,e.target.name,e.target.value),Object(ye.a)(a,"e_validity",0),Object(ye.a)(a,"e_placeholder","email \uac80\uc0ac\ub97c \ud574\uc8fc\uc138\uc694."),a))}else n.setState(Object(ye.a)({},e.target.name,e.target.value),function(){n.state.password.length>=8?n.setState({p_validity:1,p_placeholder:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ube44\ubc00\ubc88\ud638 \uc785\ub2c8\ub2e4."}):n.setState({p_validity:0,p_placeholder:"\ube44\ubc00\ubc88\ud638\uac00 \ub108\ubb34 \uc9e7\uc2b5\ub2c8\ub2e4."})})},n.nickCheck=Object(P.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.nick.length<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.a.post("/auth/nickCheck",{nick:n.state.nick});case 4:t=e.sent,console.log(t.data),"ok"===t.data&&n.state.nick.length>0&&n.state.nick.length<=10?n.setState({n_validity:1,n_placeholder:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."}):n.setState({n_placeholder:"\uc911\ubcf5 \ub2c9\ub124\uc784 \ud639\uc740 \ub2c9\ub124\uc784\uc758 \uae38\uc774\uac00 10\uc790 \uc774\uc0c1\uc785\ub2c8\ub2e4."});case 7:case"end":return e.stop()}},e,this)})),n.emailCheck=Object(P.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.email,!/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t)){e.next=9;break}return e.next=5,C.a.post("/auth/emailCheck",{email:t});case 5:"ok"===e.sent.data?n.setState({e_validity:1,e_placeholder:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c email\uc785\ub2c8\ub2e4."}):n.setState({e_validity:0,e_placeholder:"\uc774\ubbf8 \uac00\uc785\ub41c email\uc785\ub2c8\ub2e4."}),e.next=10;break;case 9:n.setState({e_placeholder:"\uc62c\ubc14\ub978 \ud615\uc2dd\uc758 email\uc774 \uc544\ub2d9\ub2c8\ub2e4."});case 10:case"end":return e.stop()}},e,this)})),n.handleSubmit=function(){var e=Object(P.a)(M.a.mark(function e(t){var a,r,i,s,c,o,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.email,i=a.nick,s=a.password,c=a.e_validity,o=a.n_validity,l=a.p_validity,!(c&&o&&l)){e.next=9;break}return e.next=5,C.a.post("/auth/join",{email:r,nick:i,password:s});case 5:"success"===e.sent.data?n.props.history.push("/"):alert("Something went wrong"),e.next=10;break;case 9:alert("\uc870\uac74\uc5d0 \ub9de\uac8c \uc694\uc18c\ub4e4\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.e_placeholder,n=e.n_placeholder,a=e.p_placeholder,r=e.e_validity,i=e.n_validity,s=e.p_validity;return r&&i&&s&&(document.getElementById("submit").disabled=!1),c.a.createElement("form",null,c.a.createElement("center",null,c.a.createElement("div",{className:"register-form"},c.a.createElement("div",{className:"checkSyntax",style:r?{color:"green"}:{color:"red"}},t),c.a.createElement("input",{name:"email",placeholder:"email",className:"input",onChange:this.handleChange,spellCheck:!1,value:this.state.email}),c.a.createElement("input",{className:"checkButton",type:"button",value:"email \uc911\ubcf5 \uac80\uc0ac",onClick:this.emailCheck}),c.a.createElement("div",{className:"checkSyntax",style:i?{color:"green"}:{color:"red"}},n),c.a.createElement("input",{name:"nick",spellCheck:!1,placeholder:"nickname",className:"input",onChange:this.handleChange,value:this.state.nick,id:"nick-input"}),c.a.createElement("input",{className:"checkButton",type:"button",value:"nickname \uc911\ubcf5 \uac80\uc0ac",onClick:this.nickCheck}),c.a.createElement("div",{className:"checkSyntax",style:s?{color:"green"}:{color:"red"}},a),c.a.createElement("input",{name:"password",type:"password",placeholder:"password",className:"input",value:this.state.password,onChange:this.handleChange}),c.a.createElement("input",{type:"submit",value:"Submit",className:"submit-regi",id:"submit",onClick:this.handleSubmit}))))}}]),t}(s.Component)),Le=function(e){var t=e.history;return c.a.createElement("div",null,c.a.createElement(Ae,{history:t}))},Me=(n(106),n(108),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={content:""},n.handleChange=function(e){n.setState({content:e.target.value})},n.handleSubmit=Object(P.a)(M.a.mark(function e(){var t,a,r,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.handleCommentAction,r=t.user,i=t.id,e.next=3,C.a.post("/post/uploadComment",{content:n.state.content,postid:i,usernick:r.nick});case 3:"success"===e.sent.data?a():alert("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 5:case"end":return e.stop()}},e,this)})),n.handleEnter=function(e){"Enter"===e.key&&n.handleSubmit()},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"each-feed-comment"},c.a.createElement("input",{placeholder:"Add Comment",className:"comment-content",value:this.state.content,onChange:this.handleChange,onKeyPress:this.handleEnter}),c.a.createElement("input",{type:"button",value:"Submit",className:"submit-button",onClick:this.handleSubmit}))}}]),t}(s.Component)),Pe="https://cdn1.iconfinder.com/data/icons/valentine-s-day-simplicity/512/empty_heart-512.png",_e="https://cdn1.iconfinder.com/data/icons/love-icons/512/love-heart-512.png",Fe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={nick:"",likeCounts:0,profilePic:"",isLoading:!1,like:Pe,commentsCount:0,commentToggle:0},n.initializer=Object(P.a)(M.a.mark(function e(){var t,a,r,i,s,c,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),t=n.props,a=t.id,r=t.loggedInUser,e.next=4,C.a.post("/post/getNick",{userid:n.props.userid});case 4:return i=e.sent,e.next=7,C.a.post("/post/getLikeCount",{postid:a});case 7:return s=e.sent,e.next=10,C.a.post("/post/getComments",{postid:a});case 10:return c=e.sent,e.next=13,C.a.post("/post/getUserPic",{userid:n.props.userid});case 13:o=e.sent,n.setState({nick:i.data,likeCounts:s.data.length,profilePic:o.data,commentsCount:c.data.length}),r&&s.data.map(function(e){e.id===r.id&&n.setState({like:_e})}),n.setState({isLoading:!1});case 17:case"end":return e.stop()}},e,this)})),n.handleClick=function(){var e=n.props,t=e.history,a=e.id,r=e.userid;t.push("/user/".concat(r,"/").concat(a))},n.handleLikeClick=function(){var e=n.props,t=e.id,a=e.loggedInUser;a?n.state.like===Pe?(n.setState({like:_e,likeCounts:n.state.likeCounts+1}),C.a.post("/post/like",{userid:a.id,postid:t})):(n.setState({like:Pe,likeCounts:n.state.likeCounts-1}),C.a.post("/post/unlike",{userid:a.id,postid:t})):alert("\uc88b\uc544\uc694\ub294 \ub85c\uadf8\uc778 \ud6c4\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},n.toggleComment=function(){var e=n.state.commentToggle;n.props.loggedInUser?n.setState({commentToggle:!e}):alert("\ub313\uae00 \uc791\uc131\uc740 \ub85c\uadf8\uc778 \ud6c4\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},n.handleCommentAction=function(){var e=n.state.commentsCount;n.setState({commentsCount:e+1,commentToggle:0})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initializer()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.img,r=n.date,i=n.content,s=n.userid,o=n.history,l=this.state,u=l.nick,p=l.likeCounts,h=l.profilePic,m=l.like,d=l.commentsCount,f=r.substr(11,12).substr(0,5);return this.state.isLoading?c.a.createElement(K,{width:"100px",height:"100px",pw:"100%",ph:"90vh"}):(i&&(e=(e=i.split(/\s+/)).map(function(e){return"#"===e[0]&&e.length>1?c.a.createElement("div",null,c.a.createElement(se,{hashtag:e,history:t.props.history})):c.a.createElement("div",{className:"word"},e)})),c.a.createElement("div",{className:"each-feed"},c.a.createElement("div",{className:"top"},c.a.createElement("div",{className:"left",onClick:function(){o.push("/user/".concat(s))},style:{cursor:"pointer"}},c.a.createElement("div",{className:"profile-pic"},h?c.a.createElement("img",{src:h,alt:""}):null),u),c.a.createElement("div",{className:"right"},r.substr(0,10)," ",f)),c.a.createElement("div",{className:"img-area"},c.a.createElement("div",{onClick:this.handleClick,className:"onimg"},c.a.createElement("img",{src:a,alt:""})),c.a.createElement("div",{className:"bottom"},c.a.createElement("div",{className:"comment-area"},c.a.createElement("img",{src:m,width:30,height:30,alt:"",style:{cursor:"pointer",marginTop:"5px",marginRight:"5px",marginLeft:"-10px"},onClick:this.handleLikeClick}),c.a.createElement("div",{style:{width:"100%"}},p)," ",c.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/vectory-basic/40/comment_2-512.png",width:30,height:30,alt:"",style:{marginTop:"5px",marginLeft:"10px",cursor:"pointer"},onClick:this.toggleComment}),c.a.createElement("div",{className:"cCount"},d)),c.a.createElement("div",{className:"test"},e),this.state.commentToggle?c.a.createElement(Me,{handleCommentAction:this.handleCommentAction,user:this.props.loggedInUser,id:this.props.id}):null))))}}]),t}(s.Component),Ie=(n(110),n(21)),Te=n.n(Ie),Be=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/post/getAlluser");case 2:t=e.sent,this.setState({users:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users,n=t;this.props.user&&(n=t.filter(function(t){return t.id!==e.props.user.id}));var a=this.shuffle(n),r=(a=a.slice(0,3)).map(function(t){return c.a.createElement(De,{user:t,key:t.id,history:e.props.history,pic:t.pic})});return c.a.createElement("div",{style:{textAlign:"center"},className:"rec-user"},c.a.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",marginTop:"30px"}},"Feed\uc5d0 \ub354 \uc774\uc0c1 \uc18c\uc2dd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \uacc4\uc815\ub4e4\ub3c4 \ub458\ub7ec\ubcf4\uc138\uc694!"),c.a.createElement("div",{className:"following-rec"},r))}}]),t}(s.Component),De=function(e){var t=e.user,n=e.history,a=e.pic;return c.a.createElement("div",{className:"each-rec",onClick:function(){n.push("/user/".concat(t.id))}},c.a.createElement("div",{className:"profile-pic"},a?c.a.createElement("img",{src:a,width:100,height:100,alt:""}):c.a.createElement("div",{style:{marginTop:"38px"}},"no image")),c.a.createElement("div",{className:"nick"},t.nick))},ze=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={list:null,loadingState:!1,noPost:null,tk:0,wrongAccess:null,isLoading:!1},n.items=[],n.it=0,n.endOfList=!1,n.initializer=Object(P.a)(M.a.mark(function e(){var t,a,r,i,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.location,r=t.user,i=Te.a.parse(a.search),r||i.hashtag){e.next=4;break}return e.abrupt("return");case 4:if(!i.hashtag){e.next=10;break}return e.next=7,C.a.post("/post/getHashTagPost",{tag:i.hashtag});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,C.a.post("/post/getFollowingPosts",{userid:r.id});case 12:e.t0=e.sent;case 13:s=e.t0,c=s.data;try{c.length>3?n.infiniteScroll(c):(n.endOfList=!0,n.setState({tk:!n.state.tk}))}catch(o){console.log(o)}if("no data"!==c){e.next=21;break}return n.setState({noPost:1}),e.abrupt("return");case 21:n.it=c.length,c=c.reverse(),n.items=c.splice(0,3),n.setState({tk:!n.state.tk});case 25:case"end":return e.stop()}},e,this)})),n.infiniteScroll=function(e){n.refs.iScroll.addEventListener("scroll",function(){n.refs.iScroll.scrollTop+n.refs.iScroll.clientHeight>=n.refs.iScroll.scrollHeight&&n.loadMoreItems(e)})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.initializer()},100)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.user,r=n.ht;if(e.user!==a||e.ht!==r){this.initializer();try{document.getElementById("list").scrollTo(0,0)}catch(i){return void console.log(i)}}}},{key:"loadMoreItems",value:function(e){var t=this;if(this.items.length>=this.it)return this.endOfList=!0,void this.setState({tk:!this.state.tk});var n=this.items,a=e.splice(0,3);this.setState({loadingState:!0}),this.items=n.concat(a),setTimeout(function(){t.setState({loadingState:!1})},1e3)}},{key:"render",value:function(){var e=this,t=this.items,n=this.props,a=n.history,r=n.location,i=Te.a.parse(r.search);if(this.state.noPost)return c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(Be,{history:this.props.history}));var s=t.map(function(t){return c.a.createElement(Fe,{id:t.id,img:t.img,nick:t.nick,history:a,key:t.id,date:t.createdAt,userid:t.userId,content:t.content,loggedInUser:e.props.user})});return c.a.createElement("div",{className:"feed"},c.a.createElement("div",{ref:"iScroll",className:"list",id:"list"},i.hashtag?c.a.createElement("center",null,c.a.createElement("div",{className:"searched-hashtag"},"Searched Hashtag : ",c.a.createElement("span",{className:"ht"},"#",i.hashtag))):null,c.a.createElement("center",null,s),this.endOfList?c.a.createElement(Be,{history:this.props.history,user:this.props.user}):""))}}]),t}(s.Component),Ue=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(ze,{user:this.props.user,history:this.props.history,location:this.props.location,ht:this.props.ht}))}}]),t}(s.Component),We=Object(S.b)(function(e){return{user:e.login.user}})(Object(I.a)(Ue)),He=function(e){var t=e.location,n=Te.a.parse(t.search).hashtag;return c.a.createElement("div",null,c.a.createElement(We,{ht:n}))},Re=(n(118),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null},n.handleFileChange=function(e){n.setState({selectedFile:e.target.files[0]}),console.log(e.target.files[0])},n.handleSubmit=Object(P.a)(M.a.mark(function e(){var t,a,r,i,s,c,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.history,r=t.user,i=n.state.selectedFile,s=new FormData,console.log(i),s.append("img",i,i.name),s.append("userid",r.id),c={headers:{"Content-Type":"multipart/form-data"}},e.next=9,C.a.post("/post/profile",s,c);case 9:o=e.sent,console.log(o.data),a.push("/user/".concat(r.id));case 12:case"end":return e.stop()}},e,this)})),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.user,r=n.history;if(!a)return alert("Please login first"),void r.push("/")}},{key:"render",value:function(){var e=this.state.selectedFile;return console.log(e),c.a.createElement("div",{className:"edit"},c.a.createElement("center",null,c.a.createElement("div",{className:"writing-form"},c.a.createElement("label",{className:"file-wrapper"},e?"Selected!":"Click HERE to Select New Profile!",c.a.createElement("input",{id:"img",name:"img",type:"file",className:"file-upload",onChange:this.handleFileChange})),e?e.name:"",c.a.createElement("input",{type:"button",value:"Submit",className:"submit",onClick:this.handleSubmit}))))}}]),t}(s.Component)),Ke=Object(S.b)(function(e){return{user:e.login.user}})(Object(I.a)(Re)),Ge=function(){return c.a.createElement("div",null,c.a.createElement(Ke,null))},qe=(n(120),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.history,a=e.user;t.push("/user/".concat(a.id))},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user;return c.a.createElement("div",{className:"user-result",onClick:this.handleClick},e.nick)}}]),t}(s.Component)),Je=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log("hashtag Clicked");var e=n.props,t=e.history,a=e.hashtag;t.push("/feed?hashtag=".concat(a.title))},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.hashtag;return c.a.createElement("div",{className:"ht-result",onClick:this.handleClick},"#",e.title)}}]),t}(s.Component),Ye=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).mapItems=function(e,t,a){return"user"===t?e.slice(0,a).map(function(e){return c.a.createElement(qe,{user:e,history:n.props.history,key:e.id})}):e.slice(0,3).map(function(e){return c.a.createElement(Je,{hashtag:e,history:n.props.history,key:e.id})})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=e.data,a=this.mapItems;if(t.length<=1)return c.a.createElement("div",null);if(n){var r=n.user,i=n.hashtag;return r[0]&&i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"user-list"},a(r,"user",3)),c.a.createElement("div",{className:"hash-list"},a(i,"hash",3)))):r[0]&&!i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"user-list",style:{height:"200px"}},a(r,"user",6)))):!r[0]&&i[0]?c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"hash-list",style:{height:"200px"}},a(i,"hash",6)))):c.a.createElement("div",{className:"search-list"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"noresult"},"No Result")))}return c.a.createElement("div",null)}}]),t}(s.Component),Ze=Object(I.a)(Ye),$e=n(45),Qe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={input:"",results:null},n.handleChange=function(e){n.setState({input:e.target.value},function(){n.state.input.length>=2&&n.searchUser(n.state.input)})},n.handleBlur=function(){setTimeout(function(){n.setState({input:""})},150)},n.searchUser=Object($e.debounce)(function(){var e=Object(P.a)(M.a.mark(function e(t){var a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/post/search",{input:t});case 2:a=e.sent,n.setState({results:a.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),500),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAble,n=e.to,a=this.state.input;return c.a.createElement("div",null,c.a.createElement(ge,{isAble:t,to:n,input:a,handleChange:this.handleChange,handleBlur:this.handleBlur}),c.a.createElement(Ze,{data:this.state.results,input:a}))}}]),t}(s.Component),Ve=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user;return c.a.createElement("div",null,e?c.a.createElement(Qe,{isAble:!0,to:"/user/".concat(e.id)}):c.a.createElement(Qe,{isAble:!1,to:"123"}),c.a.createElement(g.a,null,c.a.createElement(b.a,{exact:!0,path:"/",component:D}),c.a.createElement(b.a,{path:"/user/:userid/:postid",component:pe}),c.a.createElement(b.a,{path:"/user/:userid",component:Q}),c.a.createElement(b.a,{path:"/write",component:Se}),c.a.createElement(b.a,{path:"/register",component:Le}),c.a.createElement(b.a,{path:"/feed",component:He}),c.a.createElement(b.a,{path:"/edit",component:Ge}),c.a.createElement(b.a,{component:he})))}}]),t}(s.Component),Xe=n(130),et=Object(A.c)(i),tt=[j()()],nt=A.d,at=function(){return Object(A.e)(et,nt(A.a.apply(void 0,tt)))},rt=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.LoginActions.login()}},{key:"render",value:function(){var e=this.props.user;return c.a.createElement(Ve,{user:e})}}]),t}(s.Component),it=Object(I.a)(Object(S.b)(function(e){return{user:e.login.user}},function(e){return{LoginActions:Object(A.b)(a,e)}})(rt)),st=function(){var e=at();return c.a.createElement(S.a,{store:e},c.a.createElement(Xe.a,null,c.a.createElement(it,null)))};n(123);l.a.render(c.a.createElement(st,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");u?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()},44:function(e,t,n){e.exports=n.p+"static/media/puff.4597a1a0.svg"},48:function(e,t,n){e.exports=n(126)},83:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[48,2,1]]]);
//# sourceMappingURL=main.6fe2f5d9.chunk.js.map